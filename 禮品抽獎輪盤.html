<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8" />
    <title>禮品抽獎輪盤</title>
    <style>
        /* 【整體頁面樣式】 */
        body {
            background: #f0f0f0;
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
            margin: 0;
            padding: 20px;
        }

        /* 【輪盤容器樣式】 */
        .wheel-container {
            position: relative;
            /* 設定容器為相對定位 */
            width: 500px;
            /* 設定容器寬度 */
            height: 500px;
            /* 設定容器高度 */
            margin-bottom: 30px;
            /* 設定容器底部間距 */
        }

        /* 【輪盤主體樣式】 */
        .wheel {
            width: 100%;
            /* 讓輪盤佔滿父容器的寬度 */
            height: 100%;
            /* 讓輪盤佔滿父容器的高度 */
            border-radius: 50%;
            /* 使輪盤呈圓形 */
            background: conic-gradient(from -22.5deg,
                    #e74c3c 0deg 45deg,
                    #3498db 45deg 90deg,
                    #2ecc71 90deg 135deg,
                    #f39c12 135deg 180deg,
                    #9b59b6 180deg 225deg,
                    #1abc9c 225deg 270deg,
                    #d35400 270deg 315deg,
                    #34495e 315deg 360deg);
            /* 使用圓錐漸變色來分割輪盤 */
            -webkit-mask: radial-gradient(circle 60px at center, transparent 0, transparent 60px, black 61px);
            /* 中心透明，外圓為實心 */
            mask: radial-gradient(circle 60px at center, transparent 0, transparent 60px, black 61px);
            /* 使輪盤有一個圓形的中心 */
            position: relative;
            /* 設定為相對定位以便絕對定位標籤 */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            /* 添加陰影使輪盤有立體感 */
        }

        /* 【獎項標籤容器】 */
        .labels {
            position: absolute;
            /* 設定容器為絕對定位 */
            width: 100%;
            /* 佔滿父容器的寬度 */
            height: 100%;
            /* 佔滿父容器的高度 */
            top: 0;
            /* 上對齊 */
            left: 0;
            /* 左對齊 */
            pointer-events: none;
            /* 禁用鼠標事件，讓標籤不影響輪盤的點擊 */
        }

        /* 【單個獎項標籤樣式 - 已調整向中心靠近】 */
        .label {
            position: absolute;
            /* 設定標籤為絕對定位 */
            width: 200px;
            /* 設定標籤的寬度 */
            top: 50%;
            /* 垂直置中 */
            left: 50%;
            /* 水平置中 */
            transform-origin: 0% 0%;
            /* 設定旋轉軸為標籤的左上角 */
            font-size: 18px;
            /* 設定字體大小 */
            color: white;
            /* 設定文字顏色 */
            font-weight: bold;
            /* 設定字體加粗 */
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
            /* 添加文字陰影使文字更清晰 */
            text-align: right;
            /* 文字右對齊 */
            padding-right: 10px;
            /* 設置右邊距，將文字往左偏移 */
            transform: rotate(var(--angle)) translateX(30px);
            /* 根據角度旋轉並調整文字位置，使其更靠近圓心 */
        }

        /* 【指針容器樣式】 */
        .pointer-container {
            position: absolute;
            /* 設定為絕對定位 */
            width: 100%;
            /* 佔滿父容器的寬度 */
            height: 100%;
            /* 佔滿父容器的高度 */
            top: 0;
            /* 上對齊 */
            left: 0;
            /* 左對齊 */
            pointer-events: none;
            /* 禁用鼠標事件，讓指針不影響輪盤的點擊 */
            z-index: 10;
            /* 設定層級，使指針在輪盤之上 */
        }

        /* 【劍形指針樣式】 */
        #pointer {
            position: absolute;
            /* 設定為絕對定位 */
            width: 40px;
            /* 設定指針寬度 */
            height: 180px;
            /* 設定指針高度 */
            background-color: #000;
            /* 設定指針顏色 */
            top: 50%;
            /* 垂直置中 */
            left: 50%;
            /* 水平置中 */
            transform: translate(-50%, -100%) rotate(0deg);
            /* 使指針的底部對齊圓心，並旋轉 */
            transform-origin: bottom center;
            /* 設定指針的旋轉軸為底部中心 */
            z-index: 11;
            /* 設定層級，確保指針在輪盤之上 */
            clip-path: polygon(50% 0%,
                    /* 劍尖 */
                    60% 10%,
                    /* 收窄 */
                    55% 85%,
                    /* 劍身 */
                    45% 85%,
                    /* 劍身 */
                    40% 10%
                    /* 收窄 */
                );
            /* 使用多邊形裁剪來創建劍形指針 */
            transition: transform 4s cubic-bezier(0.2, 0.6, 0.2, 1);
            /* 設定指針旋轉動畫 */
        }

        /* 【中心圓點樣式】 */
        .center-circle {
            position: absolute;
            /* 設定為絕對定位 */
            width: 30px;
            /* 設定圓點的直徑 */
            height: 30px;
            /* 設定圓點的直徑 */
            background: rgb(0, 0, 0);
            /* 設定圓點顏色 */
            border-radius: 50%;
            /* 使圓點為圓形 */
            top: 50%;
            /* 垂直置中 */
            left: 50%;
            /* 水平置中 */
            transform: translate(-50%, -50%);
            /* 調整圓點位置使其完全居中 */
            border: 3px solid #000000;
            /* 添加圓點邊框 */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            /* 添加陰影使圓點更突出 */
            z-index: 15;
            /* 設定層級，使圓點位於最上層 */
        }

        /* 【旋轉按鈕樣式】 */
        button {
            margin-top: 20px;
            /* 設定按鈕與輪盤的間距 */
            padding: 15px 40px;
            /* 設定按鈕內部間距 */
            font-size: 18px;
            /* 設定按鈕文字大小 */
            border-radius: 30px;
            /* 設定按鈕圓角 */
            border: none;
            /* 去掉按鈕邊框 */
            background: #3498db;
            /* 設定按鈕背景顏色 */
            color: white;
            /* 設定文字顏色 */
            cursor: pointer;
            /* 設定鼠標懸停樣式 */
            transition: all 0.3s;
            /* 設定按鈕過渡效果 */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            /* 添加按鈕陰影 */
        }

        button:hover {
            background: #2980b9;
            /* 懸停時改變背景顏色 */
            transform: translateY(-2px);
            /* 懸停時微微向上移動 */
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.15);
            /* 懸停時加強陰影 */
        }

        button:disabled {
            background: #95a5a6;
            /* 禁用狀態下更改背景顏色 */
            cursor: not-allowed;
            /* 禁用狀態下禁止點擊 */
            transform: none;
            /* 禁用狀態下移除移動效果 */
            box-shadow: none;
            /* 禁用狀態下移除陰影 */
        }
    </style>
</head>

<body>
    <h1>禮品抽獎輪盤</h1>

    <!-- 【輪盤主要結構】 -->
    <div class="wheel-container">
        <div class="wheel" id="wheel">
            <div class="labels" id="labels"></div>
        </div>
        <div class="pointer-container">
            <div class="pointer" id="pointer"></div>
            <div class="center-circle"></div>
        </div>
    </div>

    <!-- 【控制按鈕】 -->
    <button id="spin-btn">開始旋轉</button>

    <script>
    // 【獎項設定】設定項目與偏移角度
    const options = [
        { text: "餐飲折扣劵", offset: -5 },
        { text: "藝文限量紀念品", offset: -5 },
        { text: "住宿優惠券", offset: -5 },
        { text: "餐飲折扣劵", offset: -5 },
        { text: "藝文限量紀念品", offset: -5 },
        { text: "住宿優惠券", offset: -5 },
        { text: "餐飲折扣劵", offset: -5 },
        { text: "藝文限量紀念品", offset: -5 }
    ];

    // 【DOM元素取得】
    const pointer = document.getElementById('pointer');         // 指針
    const spinBtn = document.getElementById('spin-btn');        // 旋轉按鈕
    const labelsContainer = document.getElementById('labels');  // 獎項容器

    let hasSpun = false;  // 【旗標】紀錄是否已經轉過

    // 【初始化獎項標籤】
    function initLabels() {
        labelsContainer.innerHTML = '';  // 清空
        const angleStep = 360 / options.length;  // 每格角度

        options.forEach((item, i) => {
            const label = document.createElement('div');  // 建立元素
            label.className = 'label';

            const angle = i * angleStep + angleStep / 2 - 22.5 + item.offset;
            label.style.setProperty('--angle', `${angle}deg`);

            label.textContent = item.text;
            labelsContainer.appendChild(label);
        });
    }

    // 【載入後初始化】
    window.addEventListener('load', initLabels);

    // 【按鈕點擊 - 開始旋轉】
    spinBtn.addEventListener('click', () => {
        if (hasSpun) {
            alert("本輪已轉完，請重新整理頁面再試一次！");
            return;
        }

        hasSpun = true;  // 標記為已轉

        const randomDegree = 360 * 5 + Math.floor(Math.random() * 360);  // 隨機旋轉
        pointer.style.transform = `translate(-50%, -100%) rotate(${randomDegree}deg)`;  // 指針旋轉
    });
</script>

</body>

</html>
